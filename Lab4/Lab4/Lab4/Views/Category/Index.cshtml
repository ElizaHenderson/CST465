@using Lab4.Code.DataObjects
@model List<Category>
@{
    ViewBag.Title = "Category Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Category Index</h2>

@{
    foreach (Category thing in Model)
    {
            using (Html.BeginForm("Edit", "Category", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                @Html.HiddenFor(Model => Model.Find(c => c == thing).ID);
                @Html.EditorFor(Model => Model.Find(c => c == thing).CategoryName);

                <input type="submit" value="Edit Category" />
                <input type="button" value="Delete Category" onclick="location.href='@Url.Action("Delete", Model.Find(c => c == thing))'" />
            }
    }
    <br />
    using (Html.BeginForm("AddCategory", "Category", FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        @Html.TextBox("CategoryName")
        <input type="submit" value="Add Category" class="btn btn-success" />
    }
}